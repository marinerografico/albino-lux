<div id="cart-update-modal" class="fixed inset-0 z-[10000] hidden" aria-labelledby="cart-update-title" role="dialog" aria-modal="true">
  <!-- Backdrop -->
  <div class="absolute inset-0 bg-neutral-900/20 backdrop-blur-sm transition-opacity duration-500" onclick="closeCartUpdateModal()"></div>

  <!-- Modal Container -->
  <div class="fixed inset-0 flex items-center justify-center p-4 pointer-events-none">
    <div class="bg-white rounded-lg shadow-2xl max-w-md w-full transform transition-all duration-500 ease-out pointer-events-auto cart-update-content opacity-0 scale-95">
      <div class="p-8 md:p-10 space-y-8">
        <!-- Header -->
        <div class="text-center space-y-3">
          <p class="text-xs tracking-widest uppercase text-neutral-400 font-medium">
            ajustamos tu pedido
          </p>
          <p class="text-lg md:text-xl font-serif italic text-neutral-600 leading-relaxed max-w-sm mx-auto">
            quedaban menos botellas de las que querías.<br>
            pero aún hay una para ti.
          </p>
        </div>

        <!-- Product Info -->
        <div class="flex items-center gap-4 pt-4 border-t border-neutral-100">
          <div class="flex-shrink-0">
            <img id="cart-update-product-image" src="" alt="" class="w-16 h-20 object-cover grayscale brightness-110">
          </div>
          <div class="flex-1 space-y-1 min-w-0">
            <p id="cart-update-product-name" class="font-serif italic text-base text-neutral-900 lowercase"></p>
            <div class="flex items-baseline gap-2 text-sm">
              <span id="cart-update-pack-name" class="text-neutral-500"></span>
              <span class="text-neutral-300">•</span>
              <span class="text-neutral-400 line-through" id="cart-update-old-quantity"></span>
              <span class="text-neutral-900 font-medium" id="cart-update-new-quantity"></span>
            </div>
          </div>
        </div>

        <!-- Actions -->
        <div class="flex flex-col gap-3 pt-4">
          <button onclick="proceedWithRitual()" class="group relative px-8 py-4 overflow-hidden rounded-full bg-neutral-900 text-white hover:bg-neutral-800 transition-all duration-300 shadow-sm hover:shadow-md w-full">
            <span class="relative z-10 text-xs tracking-widest uppercase font-semibold">
              seguir con el ritual
            </span>
          </button>
          <button onclick="closeCartUpdateModal()" class="text-xs text-neutral-400 hover:text-neutral-900 transition-colors border-b border-transparent hover:border-neutral-900 pb-0.5 text-center">
            volver a elegir dosis
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Cart Update Modal",
  "settings": []
}
{% endschema %}

