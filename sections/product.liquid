<section class="min-h-screen flex flex-col md:flex-row md:py-0 bg-white pt-32 pr-6 pb-32 pl-6 relative items-center justify-center" id="product-section">
  <!-- Bottle Image Presentation -->
  <div class="md:w-1/2 md:h-screen flex overflow-hidden w-full h-[60vh] relative items-center justify-center">
    <div class="absolute inset-0 bg-gradient-to-r from-white via-transparent to-white z-10 pointer-events-none"></div>
    <img src="{{ section.settings.bottle_image | default: 'https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/ab1a9549-cfbe-4ca5-84ff-b09a28ae69d7_800w.png' }}" alt="{{ section.settings.bottle_alt | default: 'Botella Albino Valentón' }}" class="md:h-[80%] contrast-125 bottle-container reveal-text duration-1000 w-auto h-[85%] object-cover grayscale brightness-110 blur-focus">
  </div>

  <!-- Product Details -->
  <div class="w-full md:w-1/2 max-w-md space-y-12 md:pl-12 reveal-text">
    <div class="md:text-left text-center space-y-4">
      <div class="flex items-center justify-center md:justify-start space-x-3 mb-2">
        <span class="text-xs tracking-widest uppercase text-neutral-400 font-normal">
          {{ section.settings.edition_number | default: "edición 001" }}
        </span>
        <span class="text-[10px] uppercase font-medium text-neutral-500 tracking-wider border-neutral-200 border rounded-full pt-0.5 pr-2 pb-0.5 pl-2">
          {{ section.settings.edition_badge | default: "lanzamiento" }}
        </span>
      </div>
      <h2 class="text-5xl md:text-6xl font-medium tracking-tight text-neutral-900 lowercase">
        {{ section.settings.product_name | default: "valentón" }}
      </h2>
      <p class="leading-relaxed text-xl italic text-neutral-500 font-serif">
        {{ section.settings.product_description | default: "vino blanco por fuera, tinto por dentro. una botella contra el amor romántico." }}
      </p>

      <div class="pt-2 flex justify-center md:justify-start">
        <button onclick="document.getElementById('modal-valenton').classList.remove('hidden');" class="group flex uppercase hover:text-neutral-600 transition-colors hover:border-neutral-600 text-xs font-semibold text-neutral-900 tracking-widest border-neutral-900 border-b pb-0.5 gap-x-2 gap-y-2 items-center">
          {{ section.settings.discover_text | default: "descubrir más" }}
          <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus transition-transform group-hover:rotate-90">
            <path d="M5 12h14"></path>
            <path d="M12 5v14"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Custom Pack Selectors -->
    <div class="space-y-4">
      {% for block in section.blocks %}
        {% if block.type == 'pack' %}
          <button class="w-full group relative cursor-pointer text-left focus:outline-none" onclick="selectPack(this, 'pack{{ forloop.index }}')">
            <div class="flex items-baseline justify-between py-4 border-b border-neutral-200 group-hover:border-neutral-900 transition-colors duration-300">
              <span class="font-serif italic text-lg text-neutral-600 group-hover:text-neutral-900 transition-colors">
                {{ block.settings.pack_name }}
              </span>
              <span class="text-xs tracking-tight text-neutral-400 font-medium">
                {{ block.settings.pack_quantity }}
              </span>
            </div>
            <div class="absolute left-0 bottom-0 h-[1.5px] w-0 bg-neutral-900 transition-all duration-300 group-hover:w-full pack-indicator" id="pack{{ forloop.index }}-indicator"></div>
          </button>
        {% endif %}
      {% endfor %}
    </div>

    <!-- CTA -->
    <div class="flex flex-col md:flex-row md:justify-start pt-8 gap-x-6 gap-y-6 items-center justify-center">
      <button class="group relative px-10 py-4 overflow-hidden rounded-full bg-neutral-900 text-white hover:bg-neutral-800 transition-all duration-300 shadow-sm hover:shadow-md w-full md:w-auto">
        <span class="uppercase text-xs font-medium tracking-widest z-10 relative">
          {{ section.settings.buy_button_text | default: "comprar" }}
        </span>
      </button>
      <span class="text-[10px] text-neutral-400 tracking-wide max-w-[150px] leading-tight text-center md:text-left">
        {{ section.settings.donation_text | default: "*el 5% de los beneficios se dona a la Asociación Alba." }}
      </span>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Section",
  "settings": [
    {
      "type": "image_picker",
      "id": "bottle_image",
      "label": "Bottle Image"
    },
    {
      "type": "text",
      "id": "bottle_alt",
      "label": "Bottle Alt Text",
      "default": "Botella Albino Valentón"
    },
    {
      "type": "text",
      "id": "edition_number",
      "label": "Edition Number",
      "default": "edición 001"
    },
    {
      "type": "text",
      "id": "edition_badge",
      "label": "Edition Badge",
      "default": "lanzamiento"
    },
    {
      "type": "text",
      "id": "product_name",
      "label": "Product Name",
      "default": "valentón"
    },
    {
      "type": "textarea",
      "id": "product_description",
      "label": "Product Description",
      "default": "vino blanco por fuera, tinto por dentro. una botella contra el amor romántico."
    },
    {
      "type": "text",
      "id": "discover_text",
      "label": "Discover More Text",
      "default": "descubrir más"
    },
    {
      "type": "text",
      "id": "buy_button_text",
      "label": "Buy Button Text",
      "default": "comprar"
    },
    {
      "type": "text",
      "id": "donation_text",
      "label": "Donation Text",
      "default": "*el 5% de los beneficios se dona a la Asociación Alba."
    }
  ],
  "blocks": [
    {
      "type": "pack",
      "name": "Pack Option",
      "settings": [
        {
          "type": "text",
          "id": "pack_name",
          "label": "Pack Name",
          "default": "para amor propio"
        },
        {
          "type": "text",
          "id": "pack_quantity",
          "label": "Pack Quantity",
          "default": "1 botella"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Section",
      "blocks": [
        {
          "type": "pack",
          "settings": {
            "pack_name": "para amor propio",
            "pack_quantity": "1 botella"
          }
        },
        {
          "type": "pack",
          "settings": {
            "pack_name": "impacto doble",
            "pack_quantity": "3 botellas"
          }
        },
        {
          "type": "pack",
          "settings": {
            "pack_name": "reescribir la historia",
            "pack_quantity": "6 botellas"
          }
        }
      ]
    }
  ]
}
{% endschema %}

