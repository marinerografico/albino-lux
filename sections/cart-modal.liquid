<!-- Cart Modal -->
<div id="cart-modal" class="fixed inset-0 z-[100000] hidden flex items-center justify-center p-4 sm:p-6" aria-labelledby="cart-title" role="dialog" aria-modal="true">
  <!-- Blurred Backdrop -->
  <div class="absolute inset-0 bg-neutral-900/40 backdrop-blur-md transition-opacity duration-300 opacity-0" id="cart-backdrop" onclick="toggleCart()"></div>

  <!-- Centered Card -->
  <div class="relative w-full max-w-[400px] bg-white rounded-3xl shadow-2xl transform scale-95 opacity-0 transition-all duration-300 overflow-hidden" id="cart-content">
    <!-- Header -->
    <div class="flex items-center justify-between px-8 pt-8 pb-4">
      <h3 class="text-xl font-bold tracking-tight text-neutral-900 lowercase" id="cart-title">
        tu carrito
      </h3>
      <button onclick="toggleCart()" class="text-neutral-400 hover:text-neutral-900 transition-colors p-1 -mr-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x">
          <path d="M18 6 6 18"></path>
          <path d="m6 6 12 12"></path>
        </svg>
      </button>
    </div>

    <div class="px-8 pb-8 max-h-[70vh] overflow-y-auto">
      <!-- Cart Message -->
      <p class="text-sm text-neutral-500 leading-relaxed mb-8">
        tienes buen gusto. aquí está el resumen de tu selección antes de finalizar.
      </p>

      <!-- Cart Items Container -->
      <div id="cart-items-container" class="space-y-3 mb-8">
        <!-- Items will be loaded dynamically -->
        <div class="text-center py-8 text-neutral-400 text-sm" id="cart-empty-message">
          tu carrito está vacío
        </div>
      </div>

      <!-- Cart Summary -->
      <div id="cart-summary" class="border-t border-neutral-100 pt-6 space-y-4 hidden">
        <div class="flex justify-between text-sm">
          <span class="text-neutral-500">subtotal</span>
          <span class="text-neutral-900 font-medium" id="cart-subtotal">0,00€</span>
        </div>
        <div class="pt-4 border-t border-neutral-100">
          <div class="flex justify-between">
            <span class="text-base font-serif italic text-neutral-900 lowercase">total</span>
            <span class="text-base font-medium text-neutral-900" id="cart-total">0,00€</span>
          </div>
        </div>
      </div>

      <!-- Footer / Actions -->
      <div class="mt-8 space-y-4">
        <a href="/checkout" id="cart-checkout-btn" class="hidden w-full py-3.5 bg-neutral-900 hover:bg-neutral-800 text-white rounded-xl text-sm font-semibold tracking-wide transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 text-center block">
          continuar con el pago
        </a>
        
        <button onclick="toggleCart()" class="w-full text-xs font-medium text-neutral-500 hover:text-neutral-900 transition-colors border-b border-transparent hover:border-neutral-200 pb-0.5 inline-block text-center">
          volver a la tienda
        </button>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Cart Modal",
  "settings": []
}
{% endschema %}

